# Instructions for AI Agents

This repository is intended to gather all my Google Apps Script project files.

## General Guidelines:
1.  **Respect Existing Structure:** Each Google Apps Script project resides in its own directory, named after its Script ID (e.g., `1_SuiFIOR_EKToX4e2h8Jp3IEi8iSlJBnH24i2zQZSq2ETXDRTHXsQps3/`). Do not alter this structure.
2.  **File Naming:** Within each project directory, maintain the original file names as they appear in the Google Apps Script editor (e.g., `Code.js`, `appsscript.json`, `index.html`).
3.  **Clasp Integration:** This repository uses `clasp` for managing Google Apps Script projects. Assume `clasp` is the primary tool for pushing/pulling code.
4.  **Public Website:** `docs/index.html` is the top of the public website. Only files under the `docs/**` directory are published.
5.  **No Direct Editing of `clasp-list.json` or `clasp-list.txt`:** These files are generated by scripts and should not be manually edited.
6.  **Python Scripts:** There are several Python scripts (`clasp-pull.py`, `create_missing_scriptid_dirs.py`, `directories.py`, `manifest.py`, `parse_clasp_list.py`, `gas-project-finder.json`) that automate various tasks. Understand their purpose before making changes that might affect their functionality.
7.  **README.md:** The main `README.md` at the root of the repository provides general information about the project. Keep it updated if significant changes occur.
8. Use temporary file such as commit_message.txt for detailed commit message.

## Specific Tasks for Agents:

### Task 1: Syncing Projects
- When asked to sync projects, use `clasp-pull.py` to pull all projects.
- If new projects are added, ensure their directories are created using `create_missing_scriptid_dirs.py`.

### Task 2: Code Modifications
- When modifying code within a specific Google Apps Script project:
    - Locate the correct project directory by its Script ID.
    - Identify the relevant file(s) (e.g., `Code.js`, `appsscript.json`).
    - Apply changes, adhering to the existing coding style and conventions of that specific project.
    - After modification, use `clasp push` from within the project directory to deploy changes.

### Task 3: Project Creation/Deletion
- **Creation:** If a new project needs to be added, the user will provide the Script ID. Create a new directory with this ID and initialize it with `clasp create --type standalone --scriptId <SCRIPT_ID>`.
- **Deletion:** If a project needs to be removed, delete its directory and ensure it's removed from any relevant lists (e.g., `clasp-list.json` if it were manually managed, but it's not, so just the directory).

### Task 4: Creating Project Documentation
- When asked to create a documentation file for a Google Apps Script project:
    - **Source of Information:** Use the files already present in the project directory as the source for documentation. **Do NOT run `clasp pull` or any `clasp` command to fetch files for this task.**
    - **File Name:** The markdown file name must be the Script ID of the project (e.g., `1_SuiFIOR_EKToX4e2h8Jp3IEi8iSlJBnH24i2zQZSq2ETXDRTHXsQps3.md`).
    - **Location:** The file must be saved in the `docs/` directory.
    - **Content:** The markdown file should provide a comprehensive explanation of the project, including:
        - A project overview and its purpose.
        - A description of its core functionality, with relevant code snippets from the `.js` files.
        - Details about the web interface from the `.html` files, if applicable.
        - A "Permissions" section explaining who can access the app and how it executes, based on the `webapp.access` and `webapp.executeAs` properties in `appsscript.json`.
        - A "Configuration" section detailing any necessary setup, such as required API keys in `PropertiesService`.
        - A "Deployments" section listing all deployments from `deployments.json`. Each deployment should include its ID, target version, description, and a clickable published URL in the format `https://script.google.com/macros/s/{deploymentId}/exec`.

## Important Considerations:
- **Error Handling:** Be robust in handling errors, especially during `clasp` operations.
- **User Confirmation:** For destructive actions (e.g., deleting projects, pushing major changes), always ask for user confirmation.
- **Logging:** Log important actions and their outcomes.
